CREATE TABLE ZOO_TEST AS
SELECT * FROM ZVIRATA
;
ALTER TABLE ZOO_TEST
ADD VLOZENO DATE
;
UPDATE ZOO_TEST
SET VLOZENO = '1900-01-01'
;
ALTER TABLE ZOO_TEST
ADD TRIDA_CZ INTEGER
;
UPDATE ZOO_TEST SET TRIDA_CZ = TRIDA_ID FROM TRIDA
;
ALTER TABLE ZOO_TEST
DROP TRIDA_ID
;
SELECT * FROM ZOO ZO
WHERE EXISTS
(SELECT NAZEV_CZ 
FROM ZOO_TEST ZT
WHERE ZT.NAZEV_CZ = NAZEV_CZ
)
;
INSERT INTO ZOO_TEST
SELECT FROM ZOO
WHERE EXISTS
(SELECT NAZEV_CZ
FROM ZOO_TEST ZT
WHERE NAZEV_CZ = NAZEV_CZ
)
;
CREATE VIEW ZOO_VIEW AS
SELECT * FROM ZOO_TEST
WHERE TRIDA_CZ IS NOT NULL
;
SELECT * FROM ZOO_VIEW
WHERE VLOZENO '30 days' - NOW
;
